---
title: "回车 换行 CR LF"
description: 
date: 2024-01-08 10:00:00 +0800
categories: [Code, Common]
tags: [Code, Common]
pin: false

media_subpath: ""
#
# image:
#   path: 'assets/**/**.jpg'
#   alt: Here is the text under the image
---

## 回车 换行 `\r\n`
- **CR**：Carriage Return，对应ASCII中转义字符`\r`，表示回车，将当前位置移到本行开头
- **LF**：Linefeed，对应ASCII中转义字符`\n`，表示换行 ，将当前位置移到下一行开头
- **CRLF**：Carriage Return & Linefeed，`\r\n`，表示回车并换行

这时候可能就有人陷入了思考中，在文本中**回车**不就相当于**换行**了吗？**换行**不就相当于到了下一行了吗？其实按道理说这样理解是没有问题的，但是在不同的操作系统中，**换行**是由不同的方式来表示的。

## 回车和换行来源
在计算机还没有出现之前，有一种叫做电传打字机（Teletype Model 33）的玩意儿，每秒钟可以打10个字符。但它有一个问题，就是打完一行换行的时候，要用去0.2秒，正好可以打两个字符。要是在这0.2秒里面，又有新的字符传过来，那么这个字符将丢失。

于是，研制人员想了个办法解决这个问题，就是在每行后面加两个表示结束的字符。一个叫做“回车”，告诉打字机把打印头定位在左边界；另一个叫做“换行”，告诉打字机把纸向下移一行。

后来，计算机发明了，这两个概念也就被搬到了计算机上。那时，存储器很贵，一些科学家认为在每行结尾加两个字符太浪费了，加一个就可以。于是，就出现了分歧。

`\r`是回车，`\n`是换行，前者使光标到行首，后者使光标下移一格。通常用的Enter是两个加起来。

**有的编辑器只认`\r\n`，有的编辑器则两个都认。所以要想通用的话，最好用`\r\n`换行。**

-   在微软的MS-DOS和Windows中，使用“回车CR(`\r`)”和“换行LF(`\n`)两个字符作为换行符;
-   Windows系统里面，每行结尾是回车+换行(CR+LF)，即`\r\n`；
-   Unix系统里，每行结尾只有换行LF，即“\n”；
-   Mac系统里，每行结尾只有换回车CR 即`\r`；

一个直接后果是，Unix/Mac系统下的文件在Windows里打开的话，所有文字会变成一行；而Windows里的文件在Unix下打开的话，在每行的结尾会多车一个`^M`字符。

**互相转换**：在linux下，命令unix2dos 是把linux文件格式转换成windows文件格式，命令dos2unix 是把windows格式转换成linux文件格式。

## Reference
- [# 一文让你搞明白文本或代码中\n和\r的区别](https://blog.csdn.net/sunyctf/article/details/133887183)
